# クライアント向けデモ手順（iPhone）

クライアントがiPhoneでアプリを確認する方法を説明します。

## 方法1: Expo Goアプリを使用（推奨・最も簡単）

### ステップ1: クライアントのiPhoneにExpo Goをインストール

1. App Storeで「Expo Go」を検索
2. 無料アプリをインストール
3. Expo Goアプリを開く

### ステップ2: 開発サーバーを起動

**あなたのPCで以下を実行：**

```bash
cd mochila
npm start
```

または

```bash
npx expo start
```

### ステップ3: クライアントにQRコードを共有

開発サーバーを起動すると、ターミナルにQRコードが表示されます。

**オプションA: 同じWi-Fiネットワークに接続**
- クライアントのiPhoneとあなたのPCを**同じWi-Fiネットワーク**に接続
- Expo GoアプリでQRコードをスキャン
- アプリが自動的に読み込まれます

**オプションB: トンネルモード（異なるネットワークでも可能）**
```bash
npx expo start --tunnel
```
- これにより、インターネット経由でアクセス可能になります
- QRコードをスキャンして接続

**オプションC: URLを直接共有**
- ターミナルに表示されるURL（例: `exp://192.168.1.100:8081`）をクライアントに送信
- クライアントのiPhoneでExpo Goアプリを開き、URLを入力

### ステップ4: アプリの確認

- アプリが自動的に読み込まれます
- クライアントは実際のiPhoneでアプリを操作できます
- あなたがコードを変更すると、自動的にリロードされます（Hot Reload）

---

## 方法2: 開発ビルドを作成（より本番に近い体験）

より本番環境に近い体験を提供したい場合：

### ステップ1: EAS Buildをセットアップ

```bash
npm install -g eas-cli
eas login
eas build:configure
```

### ステップ2: iOS開発ビルドを作成

```bash
eas build --platform ios --profile development
```

### ステップ3: ビルドが完了したら

- EASのダッシュボードからビルドをダウンロード
- クライアントのiPhoneにインストール（TestFlight経由または直接インストール）

---

## 方法3: TestFlight経由で配布（最も本番に近い）

本番環境に最も近い体験を提供したい場合：

### ステップ1: Apple Developerアカウントが必要

- Apple Developer Programに登録（年間$99）
- アプリの証明書とプロビジョニングプロファイルを設定

### ステップ2: 本番ビルドを作成

```bash
eas build --platform ios --profile production
```

### ステップ3: App Store Connectにアップロード

```bash
eas submit --platform ios
```

### ステップ4: TestFlightで配布

- App Store ConnectでTestFlightに追加
- クライアントをテスターとして追加
- クライアントはTestFlightアプリからインストール

---

## 推奨方法

**クライアント確認用には「方法1: Expo Go」を推奨します。**

### 理由：
- ✅ 最も簡単で迅速
- ✅ 追加のセットアップ不要
- ✅ リアルタイムで変更を確認可能
- ✅ 無料

### 注意事項：
- 同じWi-Fiネットワークに接続する必要があります（またはトンネルモードを使用）
- 開発サーバーが起動している間のみアクセス可能です

---

## トラブルシューティング

### 問題1: QRコードをスキャンできない

**解決方法：**
- ターミナルに表示されるURLを直接Expo Goアプリに入力
- または、`npx expo start --tunnel`を使用

### 問題2: アプリが読み込まれない

**解決方法：**
- 同じWi-Fiネットワークに接続しているか確認
- ファイアウォールがポート8081をブロックしていないか確認
- `npx expo start --tunnel`を試す

### 問題3: バックエンドに接続できない

**解決方法：**
- バックエンドがVercelにデプロイされていることを確認
- `mochila/utils/api.ts`の`API_BASE_URL`が正しいか確認
- クライアントのiPhoneがインターネットに接続されているか確認

---

## デモ前のチェックリスト

- [ ] バックエンドがVercelにデプロイされている
- [ ] データベースが正しく設定されている
- [ ] 環境変数が正しく設定されている
- [ ] 開発サーバーが起動できることを確認
- [ ] テスト用のユーザーデータが準備されている（必要に応じて）

---

## クイックスタート（あなたのPCで実行）

```bash
# 1. プロジェクトディレクトリに移動
cd mochila

# 2. 依存関係をインストール（初回のみ）
npm install

# 3. 開発サーバーを起動
npm start

# または、トンネルモードで起動（異なるネットワークでも可能）
npx expo start --tunnel
```

QRコードが表示されたら、クライアントにExpo Goアプリでスキャンしてもらいます。

